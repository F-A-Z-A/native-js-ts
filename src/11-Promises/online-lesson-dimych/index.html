<meta charset="UTF-8">
<script src="doAfter.js"></script>
<script src="axios.js"></script>
<script src="api.js"></script>
<script>
  // --------------------------------------------------------------------------------------

  // const myPromise = new Promise((resolve, reject) => {
  //   setTimeout(() => resolve(Math.ceil(Math.random() * 100)), 2000)
  //   console.log(1)
  //   console.log(2)
  //   console.log(3)
  // })
  //
  // console.log(myPromise)
  //
  // myPromise
  //   .then(() => console.log(myPromise))
  //
  // myPromise
  //   .then(() => console.log(myPromise))


  // .then((data) => {
  //   console.log("then-2")
  // })
  // .catch()
  // .finally(() => console.log("finally"))

  // --------------------------------------------------------------------------------------

  // doAfter(1)
  //   .then(() => console.log('then-1'))
  //   .catch(() => console.log('catch-1'))
  //   .finally(() => console.log('finally'))

  // const promise1 = doAfter(1)
  //
  // const promise2 = promise1.then((n) => {
  //   console.log(`promise-1: ${n}`)
  //   return n + 10
  // })
  //
  // const promise3 = promise2.then((n) => {
  //   console.log(`promise-2: ${n}`)
  // })

  // --------------------------------------------------------------------------------------

  // api.sendStudentsCountToItKamasutra(20)
  //   .then(res => {
  //     console.log(res.data);
  //   });

  // --------------------------------------------------------------------------------------

  // api.getVacanciesCountFromMicrosoft()
  //   .then(res => {
  //     console.log(res.data);
  //   });
  //
  // api.getVacanciesCountFromGoogle()
  //   .then(res => {
  //     console.log(res.data);
  //   });
  //
  // api.sendStudentsCountToItKamasutra()
  //   .then(res => {
  //     console.log(res.data);
  //   });

  // --------------------------------------------------------------------------------------

  // const msPromise = api.getVacanciesCountFromMicrosoft()
  // const ggPromise = api.getVacanciesCountFromGoogle()
  // msPromise.then(() => console.log("Microsoft resolve"))
  // ggPromise.then(() => console.log("Google resolve"))
  // const allPromise = Promise.all([msPromise, ggPromise])
  //
  // allPromise.then((res) => {
  //   const resMS = res[0].data.vacancies
  //   const resGG = res[1].data.vacancies
  //   console.log("request to it-kamasutra")
  //   api.sendStudentsCountToItKamasutra(resMS + resGG)
  //     .then(res => {
  //       console.log(`Send to it-kamasutra: ${res.data.requestedCount}`)
  //     })
  // })

  // doAfter(1)
  //   .then(num => num * 10)
  //   .then(num => num * 10)
  //   .then(num => num * 10)
  //   .then(num => console.log(num))
  //   .catch(num => console.log(num))

  // --------------------------------------------------------------------------------------

  // const msPromise = api.getVacanciesCountFromMicrosoft()
  // const ggPromise = api.getVacanciesCountFromGoogle()
  // msPromise.then(() => console.log("Microsoft resolve"))
  // ggPromise.then(() => console.log("Google resolve"))
  // const allPromise = Promise.all([msPromise, ggPromise])
  //
  // allPromise.then((res) => {
  //   const resMS = res[0].data.vacancies
  //   const resGG = res[1].data.vacancies
  //   console.log("request to it-kamasutra")
  //   api.sendStudentsCountToItKamasutra(resMS + resGG)
  //     .then(res => {
  //       console.log(`Send to it-kamasutra: ${res.data.requestedCount}`)
  //     })
  // })

  // --------------------------------------------------------------------------------------

  // let vacancies;
  // api.getVacanciesCountFromMicrosoft()
  //   .then(msCount => {
  //     vacancies = msCount.data.vacancies
  //     console.log(`msCount: ${msCount.data.vacancies}`)
  //     return api.getVacanciesCountFromGoogle()
  //   })
  //   .then(gCount => {
  //     console.log(`gCount: ${gCount.data.vacancies}`)
  //     return api.sendStudentsCountToItKamasutra(vacancies + gCount.data.vacancies)
  //   })
  //   .then(res => {
  //     console.log(`Send to it-kamasutra: ${res.data.requestedCount}`)
  //   })

  // --------------------------------------------------------------------------------------

  // async function asyncAwait() {
  //   let msCount = await api.getVacanciesCountFromMicrosoft()
  //   let gCount = await api.getVacanciesCountFromGoogle()
  //   let res = await api.sendStudentsCountToItKamasutra(msCount + gCount)
  //   console.log(`Send to it-kamasutra: ${res.data.requestedCount}`)
  // }
  // asyncAwait()

  // --------------------------------------------------------------------------------------

  async function parallelAsyncAwait() {
    let allPromise = await Promise.all([
      api.getVacanciesCountFromMicrosoft(),
      api.getVacanciesCountFromGoogle()
    ])
    let res = await api.sendStudentsCountToItKamasutra(allPromise[0] + allPromise[1])
    console.log(`Send to it-kamasutra: ${res.data.requestedCount}`)
  }

  parallelAsyncAwait()

  // --------------------------------------------------------------------------------------
  // --------------------------------------------------------------------------------------
  // --------------------------------------------------------------------------------------
  // --------------------------------------------------------------------------------------
</script>